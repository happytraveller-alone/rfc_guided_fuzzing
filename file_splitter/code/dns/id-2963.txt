//----- (00000001401567F4) ----------------------------------------------------
unsigned int *__fastcall DnsAddrArray_CreateIp4Array(__int64 a1)
{
  unsigned int v1; // ebx
  unsigned int *IpArray; // rdi
  unsigned int FamilyCount; // ebp
  __int64 v5; // rdx
  __int64 v6; // r8
  int v7; // r9d
  unsigned int v8; // r10d
  int v9; // r11d
  unsigned __int64 v10; // rcx
  int v11; // edx
  int v12; // r8d
  int v13; // eax
  __int64 v14; // rcx
  int *v15; // rdx
  int *v16; // r9
  int v17; // eax

  v1 = 0;
  IpArray = 0i64;
  FamilyCount = 0;
  if ( (g_rgFastWppEnabledFlagsPerLevel & 1) != 0 )
    WPP_SF_q(24i64, (unsigned __int16)"�N՗ \rT?�c�c��j\n", a1);
  if ( a1 )
  {
    FamilyCount = DnsAddrArray_GetFamilyCount(a1, 2);
    IpArray = Dns_CreateIpArray(FamilyCount, v5, v6, v7);
    if ( IpArray )
    {
      v8 = 0;
      if ( *(_DWORD *)(a1 + 4) )
      {
        v9 = -1;
        do
        {
          v10 = (unsigned __int64)v8 << 6;
          if ( *(_WORD *)(v10 + a1 + 32) == 2 )
            v11 = *(_DWORD *)(v10 + a1 + 36);
          else
            v11 = v9;
          if ( v11 != v9 )
            Dns_AddIpToIpArray(IpArray, v11);
          ++v8;
        }
        while ( v8 < *(_DWORD *)(a1 + 4) );
      }
      v12 = 0;
      v13 = *IpArray - 1;
      v14 = v13;
      if ( v13 >= 0 )
      {
        v15 = (int *)&IpArray[v13 + 1];
        v16 = v15;
        do
        {
          if ( !*v15 )
          {
            v17 = *v16--;
            ++v12;
            *v15 = v17;
          }
          --v15;
          --v14;
        }
        while ( v14 >= 0 );
      }
      *IpArray -= v12;
    }
  }
  if ( (g_rgFastWppEnabledFlagsPerLevel & 1) != 0 )
  {
    if ( IpArray )
      v1 = *IpArray;
    WPP_SF_qdD(25i64, (unsigned __int16)"�N՗ \rT?�c�c��j\n", (__int64)IpArray, v1, FamilyCount);
  }
  return IpArray;
}
// 14015684F: variable 'v5' is possibly undefined
// 14015684F: variable 'v6' is possibly undefined
// 14015684F: variable 'v7' is possibly undefined
// 14015687D: variable 'v9' is possibly undefined
// 14015688D: variable 'v8' is possibly undefined
// 1401BA000: using guessed type char g_rgFastWppEnabledFlagsPerLevel;
