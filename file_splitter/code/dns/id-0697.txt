//----- (0000000140062544) ----------------------------------------------------
HRESULT __stdcall StringCchVPrintfExW(
        STRSAFE_LPWSTR pszDest,
        size_t cchDest,
        STRSAFE_LPWSTR *ppszDestEnd,
        size_t *pcchRemaining,
        DWORD dwFlags,
        STRSAFE_LPCWSTR pszFormat,
        va_list argList)
{
  wchar_t *v7; // rsi
  HRESULT v8; // ebx
  size_t v10; // rdi
  int v11; // eax

  v7 = pszDest;
  v8 = 0;
  if ( cchDest - 1 > 0x7FFFFFFE )
    v8 = -2147024809;
  if ( v8 >= 0 )
  {
    v8 = 0;
    if ( !cchDest )
    {
      if ( *pszFormat )
      {
        if ( !pszDest )
          return -2147024809;
        v8 = -2147024774;
      }
LABEL_17:
      if ( ppszDestEnd )
        *ppszDestEnd = v7;
      return v8;
    }
    v10 = cchDest - 1;
    v11 = _vsnwprintf(pszDest, cchDest - 1, pszFormat, argList);
    if ( v11 < 0 || v11 > v10 )
    {
      v8 = -2147024774;
    }
    else if ( v11 != v10 )
    {
      v10 = v11;
LABEL_15:
      v7 += v10;
      if ( (int)(v8 + 0x80000000) >= 0 && v8 != -2147024774 )
        return v8;
      goto LABEL_17;
    }
    v7[v10] = 0;
    goto LABEL_15;
  }
  if ( cchDest )
    *pszDest = 0;
  return v8;
}
