//----- (00000001401611EC) ----------------------------------------------------
__int64 __fastcall Dns_ValueForString(__int64 a1, int a2, __int64 a3, int a4)
{
  int v4; // edi
  __int64 v5; // rax
  int (__cdecl *v8)(const char *, const char *, size_t); // rbp
  _QWORD *v9; // rcx
  __int64 v10; // rsi
  __int64 v11; // r15

  v4 = 0;
  LODWORD(v5) = a4;
  if ( !a4 )
  {
    v5 = -1i64;
    do
      ++v5;
    while ( *(_BYTE *)(a3 + v5) );
  }
  v8 = strncmp;
  if ( a2 )
    v8 = _strnicmp;
  v9 = (_QWORD *)(a1 + 8);
  if ( *v9 )
  {
    v10 = 0i64;
    v11 = (int)v5;
    do
    {
      if ( !((unsigned int (__fastcall *)(__int64, _QWORD, __int64))v8)(a3, *v9, v11) )
        break;
      ++v10;
      ++v4;
      v9 = (_QWORD *)(16 * v10 + a1 + 8);
    }
    while ( *v9 );
  }
  return *(unsigned int *)(a1 + 16i64 * v4);
}
// 140185140: using guessed type __int64 (__fastcall *_guard_dispatch_icall_fptr)(_QWORD, _QWORD);
