//----- (0000000140056FE8) ----------------------------------------------------
void __fastcall Log_vsprintW(const wchar_t *a1, va_list a2)
{
  STRSAFE_LPSTR v2; // rsi
  size_t *v5; // r9
  unsigned int v6; // eax
  unsigned int v7; // eax
  unsigned __int64 v8; // r8
  DWORD v9; // [rsp+20h] [rbp-17B8h]
  STRSAFE_LPWSTR ppszDestEnd; // [rsp+40h] [rbp-1798h] BYREF
  wchar_t pszDest[3000]; // [rsp+50h] [rbp-1788h] BYREF

  v2 = lpMultiByteStr;
  ppszDestEnd = 0i64;
  if ( (unsigned int)Log_EnterLock() )
  {
    if ( StringCchVPrintfExW(pszDest, 0xBB8ui64, &ppszDestEnd, v5, v9, a1, a2) >= 0 )
    {
      v6 = wcsnlen(pszDest, 0xBB8ui64);
      v7 = Dns_UnicodeToUtf8(pszDest, v6, lpMultiByteStr, (const unsigned __int16 *)(unsigned int)qword_1401B8F90);
      if ( v7 )
      {
        v8 = &v2[v7] - lpMultiByteStr;
        if ( v8 <= (unsigned int)qword_1401B8F90 )
        {
          lpMultiByteStr = &v2[v7];
          LODWORD(qword_1401B8F90) = qword_1401B8F90 - v8;
        }
      }
    }
    Log_LeaveLock();
  }
}
// 140057049: variable 'v5' is possibly undefined
// 140057049: variable 'v9' is possibly undefined
