//----- (000000014016859C) ----------------------------------------------------
FILE *__fastcall std::_Xfiopen<wchar_t>(wchar_t *FileName, int a2, int a3)
{
  int v3; // edi
  int v4; // r9d
  int v7; // ecx
  unsigned int v8; // edx
  __int64 v9; // r8
  int v10; // eax
  __int64 v11; // rbx
  FILE *v13; // rax
  FILE *v14; // rcx
  FILE *v15; // rax
  FILE *v16; // rbx

  v3 = a2 & 4;
  v4 = a2 & 0x80;
  if ( (a2 & 0x40) != 0 )
    a2 |= 1u;
  if ( (a2 & 8) != 0 )
    a2 |= 2u;
  v7 = 0;
  v8 = a2 & 0xFFFFFF3B;
  v9 = 0i64;
  v10 = 1;
  do
  {
    if ( v10 == v8 )
      break;
    v10 = dword_140185ECC[v9++];
    ++v7;
  }
  while ( v10 );
  v11 = v7;
  if ( !`std::_Xfiopen<wchar_t>'::`2'::valid[v7] )
    return 0i64;
  if ( v4 )
  {
    if ( (v8 & 0xA) != 0 )
    {
      v13 = _wfsopen(FileName, L"r", a3);
      if ( v13 )
      {
        v14 = v13;
LABEL_14:
        fclose(v14);
        return 0i64;
      }
    }
  }
  v15 = _wfsopen(FileName, (&Mode)[v11], a3);
  v16 = v15;
  if ( !v15 )
    return 0i64;
  if ( v3 && fseek(v15, 0, 2) )
  {
    v14 = v16;
    goto LABEL_14;
  }
  return v16;
}
// 140185E70: using guessed type wchar_t aR[2];
// 140185EC8: using guessed type int `std::_Xfiopen<wchar_t>'::`2'::valid[];
// 140185ECC: using guessed type int dword_140185ECC[15];
