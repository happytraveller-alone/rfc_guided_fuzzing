//----- (0000000140057E60) ----------------------------------------------------
void Log_Shutdown()
{
  HANDLE v0; // rcx

  v0 = g_hLogFile;
  if ( g_hLogFile )
  {
    if ( g_hLogFile != (HANDLE)-1i64 )
    {
      EnterCriticalSection(&csLogLock);
      writeAndResetLogBuffer();
      LeaveCriticalSection(&csLogLock);
      v0 = g_hLogFile;
    }
    if ( v0 )
    {
      CloseHandle(v0);
      g_hLogFile = 0i64;
    }
  }
  if ( g_pwszLogFileName )
    Mem_Free(g_pwszLogFileName, 0i64, 0i64, (__int64)"ds\\dns\\server\\server\\log.c", 2230);
  if ( g_pwszLogFileDrive )
    Mem_Free(g_pwszLogFileDrive, 0i64, 0i64, (__int64)"ds\\dns\\server\\server\\log.c", 2235);
  g_pwszLogFileName = 0i64;
  g_pwszLogFileDrive = 0i64;
}
