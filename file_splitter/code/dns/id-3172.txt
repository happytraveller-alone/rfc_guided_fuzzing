//----- (0000000140168178) ----------------------------------------------------
void __fastcall std::locale::_Locimp::_Locimp_dtor(struct std::locale::_Locimp *a1)
{
  __int64 v2; // rbx
  __int64 v3; // rdi
  __int64 v4; // rcx
  void (__fastcall ***v5)(_QWORD, __int64); // r14
  char v6; // [rsp+50h] [rbp+8h] BYREF
  char v7; // [rsp+58h] [rbp+10h] BYREF

  std::_Lockit::_Lockit((std::_Lockit *)&v7, 0);
  v2 = *((_QWORD *)a1 + 3);
  while ( v2 )
  {
    --v2;
    v3 = *(_QWORD *)(*((_QWORD *)a1 + 2) + 8 * v2);
    if ( v3 )
    {
      std::_Lockit::_Lockit((std::_Lockit *)&v6, 0);
      v4 = *(_QWORD *)(v3 + 8);
      if ( (unsigned __int64)(v4 - 1) <= 0xFFFFFFFFFFFFFFFDui64 )
        *(_QWORD *)(v3 + 8) = v4 - 1;
      v5 = 0i64;
      if ( !*(_QWORD *)(v3 + 8) )
        v5 = (void (__fastcall ***)(_QWORD, __int64))v3;
      std::_Lockit::~_Lockit((std::_Lockit *)&v6);
      if ( v5 )
        (**v5)(v5, 1i64);
    }
  }
  free(*((void **)a1 + 2));
  std::_Lockit::~_Lockit((std::_Lockit *)&v7);
}
// 140185140: using guessed type __int64 (__fastcall *_guard_dispatch_icall_fptr)(_QWORD, _QWORD);
