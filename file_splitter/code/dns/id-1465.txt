//----- (00000001400B61C4) ----------------------------------------------------
__int64 __fastcall Up_DetachAndFreeUpdateGivenPrevious(__int64 a1, _QWORD *a2, int *a3)
{
  *a2 = *(_QWORD *)a3;
  --*(_DWORD *)(a1 + 44);
  if ( *(int **)(a1 + 8) == a3 )
  {
    if ( a2 == (_QWORD *)a1 )
      a2 = 0i64;
    *(_QWORD *)(a1 + 8) = a2;
  }
  return Up_FreeUpdateEx(a3, *(_DWORD *)(a1 + 40) & 0x80000000, 1);
}
